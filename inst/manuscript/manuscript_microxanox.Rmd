---
title: "m0.0.1: Microxanox - ..."
author:
- name: Rainer M Krug
  email: Rainer.Krug@uzh.ch & Rainer@krugs.de
  affiliation: University of Zürich
  footnote: Corresponding Author
- name: Owen L. Petchey
  email: Owen.Petchey@ieu.uzh.ch
  affiliation: University of Zürich
address:
- code: University of Zürich
  address: Department of Evolutionary Biology and Environmental Studies, Winterthurerstrasse
    190, 8057 Zurich
keywords: metadata quality; data curation; archival; long term storage; R package;
abstract: |
  1. set the context for and purpose of the work;
  2. indicate the approach and methods;
  3. outline the main results;
  4. identify the conclusions and the wider implications.
journal: 'Ecology and Evolution - Applications'
bibliography: manuscript_bibliography.bib
date: "`r Sys.time()`"
output:
  html_document:
    df_print: paged
  rmarkdown::html_vignette: default
  pdf_document:
    keep_tex: yes
header-includes:
- \usepackage{lineno}
- \linenumbers
- \usepackage{setspace}
- \doublespacing
- \usepackage{fancyhdr}
- \fancyhead{}
- \fancyfoot{}
- \fancyhead[CO,CE]{Metadata made easy - the dmdScheme approach}
- \pagestyle{fancy}
vignette: |
  %\VignetteIndexEntry{Manuscript - microxanox} 
  %\VignetteEncoding{UTF-8} 
  %\VignetteEngine{knitr::rmarkdown}
nocite: '@bush2017'
linkcolor: blue
link-citations: yes
csl: methods-in-ecology-and-evolution.csl
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(microxanox)
```
  
# Journal Guidelines
  - Abstract < 350 words
  - Article 3000-4000 words

# Introduction
The aims of the `microxanox` package are:

-   Facilitate reproduction of the results of [@bush2017].
-   Include new functionality that allows new research questions to be answered.

In addition to the model described in [@bush2017], we added functionality for:

- Adding random noise in substrate concentrations.
- Adding temporally varying oxygen diffusivity.
- Including immigration.
- Setting minimum population abundances.
- Multiple strains per functional group.

The package also ingcludes some functions to viaualise the results which can function as template functions for developing graphs for own rquirements.


# The Model
The model is based on [@bush2017]. We use in this package the notation from the Table S1 of the Supplementary information of [@bush2017]), and not the notation in the main manuscript of [@bush2017]. (There is only one small difference between these: In the main text the notation is simplified to `y_S_PB` ($y_{S,PB}$) (which is `y_SR_PB` ($y_{SR,PB}$) in Table S1) and `y_S_SB` ($y_{S,SB}$) (which is y_SO_SB ($y_{SO,SB}$) in Table S1). We also use `Pr_cB` ($Pr_B$) instead of `P_CB` ($P_{CB}$).

## Model dimensions

-   Time: hours
-   Volume: litres
-   Substrate quantity: micromoles
-   Organism quantity: cells

## Modelling framework

The framework used for running a simulation, and for varying aspects of a simulation run is:

1. Define a parameter set of class `runsim_parameter` (i.e. parameters and initial conditions) by using the functions `new_runsim_parameter()`, `new_initial_state()` and `new_strain_parameter()`.
2. The function call `run_simulation(parameter)` which will run a simulation using the parameter as defined in the object `parameter`.

The ordinary differential equations for the rates of change are specified in the function `bushplus_dynamic_model()`. This augmented version of the model published in [@bush2017] can handle multiple strains within each of the three functional groups, temporal variation in oxygen diffusivity, and events.

# Implementation, Availability and Usage
The package is available in a github repo at https://github.com/UZH-PEG/microxanox/.


# Use cases
This package has been used in the production of the paper [@REF_NEEDED]. It can be used for similar studies in this study systems. It is not intended to provide a modelling framework which can be adjusted easily to all needs, but primarily a tool to implement the model used by [@bush2017] and to extend it to our needs. Consequently, any more substantial, are likely to need a change in the source code.
Nevertheless, the model is structured in a way which builds on a udular structuere, so that e.g. the event defuinition can easily be changed.

# Conclusions


# References
